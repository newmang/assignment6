<!DOCTYPE html>
<!-- General documentation is in readme.txt -->

<html>
<head>
  <title>Newmang Blocks</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link href="style.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="block.js"></script>
  <script type="text/javascript" src="tetris.js"></script>
  <script type="text/javascript" src="phonegap.js"></script>
</head>

<body style="overflow: hidden;">

<canvas id="gameCanvas"></canvas>

<script type="text/javascript">
var canvas = document.getElementById("gameCanvas");
var game = new Tetris(canvas);

// Capturing certain events causes low-end devices to lag
// So unneeded events get removed for important DOM objects
removeEvents(document.body);
removeEvents(canvas);

canvas.addEventListener("touchstart", function(e){ game.touch(e); }, false);

document.addEventListener('deviceready', function() { 
  document.addEventListener("backbutton", function() { return; }, false);
  document.addEventListener("pause", function() { alert('PAUSED'); }, false);
  game.canvasElem.style.visibility = 'visibile';
  game.run();
  }, false);

function removeEvents(elem) { 
  elem.onclick = "return false";
  elem.ongesturestart = "return false";
  elem.ongestuermove = "return false";
  elem.ongestureend = "return false";
  elem.ontouchmove = "return false";
  elem.ontouched = "return false";
  elem.ondragstart = "return false";
}

</script>

</body>
</html>