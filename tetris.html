<!DOCTYPE html>
<html>
<!--
Title: Newmang Blocks (lab6)
Author: Elijah Newman-Gomez
Platform: Android 4.0 Devices or higher
GitHub Repository: https://github.com/newmang/assignment6

Description:
A Tetris-like game that uses touch screen features.
Major changes were implementing touch-screen controls and
redesigning the interface to look good on a portrait
shaped screen. Also making use of the extended navigator
object to access device features.

The preview canvas has been cut out as well as the score
board. The code has been optimized to reflect these design
changes.

The block preview is now shown as a small solid color strip
across the top of the screen. The color of this strip
indicates which block will be next because each type of
block has a unique color. It may need to be adjusted to
accommodate color-blind mode in the future.

Compiled using PhoneGap Build (http://build.phonegap.com/)

Controls:
Tap to the left of the active block to move it left.
Tap to the right of the active block to move it right.
Tap the active block itself to rotate it.
Tap below the active block to make it drop down some.

References:
  http://docs.phonegap.com/en/2.2.0/index.html
-->

<head>
  <title>Newmang Blocks</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link href="style.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="block.js"></script>
  <script type="text/javascript" src="tetris.js"></script>
  <script type="text/javascript" src="phonegap.js"></script>
</head>

<body style="overflow: hidden;">

<canvas id="gameCanvas"></canvas>

<!-- <input type="button" id="startButton" value="START GAME" /> -->

<script type="text/javascript">
var canvas = document.getElementById("gameCanvas");
var game = new Tetris(canvas);

// Capturing certain events causes low-end devices to lag
// So unneeded events get removed for important DOM objects
removeEvents(document.body);
removeEvents(canvas);

canvas.addEventListener("touchstart", function(e){ game.touch(e); }, false);

document.addEventListener('deviceready', function() { 
  document.addEventListener("backbutton", function() { return; }, false);
  document.addEventListener("pause", function() { alert('PAUSED'); }, false);
  game.canvasElem.style.visibility = 'visibile';
  game.run();
  }, false);

function removeEvents(elem) { 
  elem.onclick = "return false";
  elem.ongesturestart = "return false";
  elem.ongestuermove = "return false";
  elem.ongestureend = "return false";
  elem.ontouchmove = "return false";
  elem.ontouched = "return false";
  elem.ondragstart = "return false";
}

</script>

</body>
</html>